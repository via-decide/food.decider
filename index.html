<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>| food.decide | v16.1</title>

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0a0a0a">
  <meta name="background-color" content="#0a0a0a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <script src="https://webgazer.cs.brown.edu/webgazer.js" async></script>

  <style>
    :root {
      --orange:#ff671f; --bg:#0a0a0a; --text:#f0f0f0;
      --go:#00e676; --red:#ff3333; --blue:#4285F4;
      --font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
      --mono:'Courier New',monospace;
    }

    html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:var(--font);overflow:hidden;touch-action:none}
    #master-container{height:100vh;width:100vw;position:relative}

    .main-slide{height:100vh;width:100vw;position:absolute;top:0;left:0;display:flex;flex-direction:column;background:var(--bg);transition:transform .5s cubic-bezier(.2,.8,.2,1)}
    .main-slide.prev{transform:translateY(-100%)}
    .main-slide.active{transform:translateY(0);z-index:10}
    .main-slide.next{transform:translateY(100%);z-index:20}

    .slide-header{padding:20px;border-left:3px solid var(--orange);height:70px;display:flex;align-items:center}
    .header-title{font-family:var(--mono);font-size:.75rem;color:var(--orange);letter-spacing:1px;font-weight:700}

    .carousel-viewport{position:relative;flex-grow:1}

    .sub-slide{
      position:absolute;inset:0;padding:25px;
      display:flex;flex-direction:column;justify-content:center;
      opacity:0;pointer-events:none;
      transition:opacity .3s ease,transform .3s ease;
    }
    .sub-slide.opt-active{opacity:1;pointer-events:auto;z-index:30}
    .sub-slide.opt-hidden{opacity:0;pointer-events:none}

    /* OVERLAYS – TEXT GLOW ONLY */
    .overlay-label{
      position:absolute;inset:0;
      display:flex;align-items:center;justify-content:center;
      font-family:var(--mono);font-size:2.5rem;font-weight:900;
      opacity:0;pointer-events:none;z-index:50;
    }
    .overlay-skip{
      color:var(--red);
      background:rgba(255,51,51,.15);
      text-shadow:0 0 12px rgba(255,51,51,.4)
    }
    .overlay-browse{
      color:var(--blue);
      background:rgba(66,133,244,.15);
      text-shadow:0 0 12px rgba(66,133,244,.4)
    }
    .overlay-select{
      color:var(--go);
      background:rgba(0,230,118,.15);
      text-shadow:0 0 12px rgba(0,230,118,.6);
      justify-content:flex-end;padding-bottom:100px
    }

    h1{font-size:1.8rem;margin:0 0 15px;color:var(--orange)}
    .primary-question{font-size:1.1rem;font-weight:600;margin-bottom:25px}
    .price{font-size:.9rem;color:#aaa;margin-left:10px;font-family:var(--mono)}

    .role-label{
      font-family:var(--mono);font-size:.6rem;
      background:var(--go);color:#000;
      padding:4px 8px;border-radius:4px;
      width:fit-content;margin-bottom:15px;font-weight:bold
    }

    .nav-hint{
      margin-top:30px;padding-top:20px;border-top:1px solid #333;
      font-family:var(--mono);font-size:.7rem;color:#666;
      display:flex;justify-content:space-between
    }

    #depth-fill{position:fixed;right:0;top:0;width:4px;height:0;background:#333;transition:height .05s}

    #toast{
      position:fixed;bottom:100px;left:50%;transform:translateX(-50%);
      background:#222;color:#00e676;
      padding:10px 20px;border-radius:20px;
      font-family:var(--mono);font-size:.8rem;
      opacity:0;transition:opacity .3s
    }
    #toast.visible{opacity:1}
  </style>
</head>

<body>

<div id="master-container"></div>
<div id="depth-fill"></div>
<div id="toast"></div>

<script>

    /* ========= MENU JSON (LOCKED) ========= */
const RAW_DATA = {
  punjabi: {
    label: "PUNJABI",
    categories: [
      {
        id: "p_breads",
        label: "Breads",
        items: [
          { name: "Butter Naan", price: 40 },
          { name: "Garlic Naan", price: 50 },
          { name: "Tandoori Roti", price: 25 },
          { name: "Lachha Paratha", price: 55 }
        ]
      },
      {
        id: "p_mains",
        label: "Mains",
        items: [
          { name: "Dal Makhani", price: 220 },
          { name: "Paneer Butter Masala", price: 240 },
          { name: "Shahi Paneer", price: 250 },
          { name: "Butter Chicken", price: 280 },
          { name: "Kadai Paneer", price: 230 }
        ]
      },
      {
        id: "p_rice",
        label: "Rice",
        items: [
          { name: "Jeera Rice", price: 150 },
          { name: "Veg Pulao", price: 160 },
          { name: "Chicken Biryani", price: 290 }
        ]
      },
      {
        id: "p_beverages",
        label: "Beverages",
        items: [
          { name: "Sweet Lassi", price: 60 },
          { name: "Salted Lassi", price: 50 },
          { name: "Masala Chaas", price: 40 }
        ]
      }
    ]
  },

  chinese: {
    label: "CHINESE",
    categories: [
      {
        id: "c_dimsum",
        label: "Dim Sum",
        items: [
          { name: "Veg Crystal Dumpling", price: 220 },
          { name: "Pork Siu Mai", price: 260 },
          { name: "Har Gao", price: 280 }
        ]
      },
      {
        id: "c_noodles",
        label: "Noodles",
        items: [
          { name: "Hakka Noodles", price: 200 },
          { name: "Lo Mein", price: 220 },
          { name: "Dan Dan Noodles", price: 260 }
        ]
      },
      {
        id: "c_wok",
        label: "Wok",
        items: [
          { name: "Chilli Chicken", price: 260 },
          { name: "Kung Pao Chicken", price: 280 },
          { name: "Mapo Tofu", price: 240 }
        ]
      }
    ]
  },

  pizza: {
    label: "PIZZA",
    categories: [
      {
        id: "z_classic",
        label: "Classic",
        items: [
          { name: "Margherita", price: 350 },
          { name: "Marinara", price: 330 },
          { name: "Pepperoni", price: 450 }
        ]
      },
      {
        id: "z_gourmet",
        label: "Gourmet",
        items: [
          { name: "Burrata Pizza", price: 550 },
          { name: "Truffle Mushroom Pizza", price: 520 },
          { name: "Wood Fired Chicken Pizza", price: 480 }
        ]
      }
    ]
  },

  snacks: {
    label: "NASTA PANI",
    categories: [
      {
        id: "s_packaged",
        label: "Packaged",
        items: [
          { name: "Coke", price: 40 },
          { name: "Thums Up", price: 40 },
          { name: "Chips", price: 20 },
          { name: "Kurkure", price: 20 }
        ]
      },
      {
        id: "s_hot",
        label: "Hot Snacks",
        items: [
          { name: "Samosa", price: 20 },
          { name: "Veg Puff", price: 30 },
          { name: "Burger", price: 60 }
        ]
      }
    ]
  }
};
/* ========= CORE LOGIC UNCHANGED ========= */

function showToast(msg){
  const t=document.getElementById('toast');
  t.innerText=msg;t.classList.add('visible');
  setTimeout(()=>t.classList.remove('visible'),2000)
}

/* DEMO SLIDE (for validation) */
const container=document.getElementById('master-container');
container.innerHTML=`
<section class="main-slide active">
  <div class="slide-header"><span class="header-title">SWIPE-OS v16.1</span></div>
  <div class="carousel-viewport">
    <div class="sub-slide opt-active">
      <div class="overlay-label overlay-skip">SKIP</div>
      <div class="overlay-label overlay-browse">BROWSE MORE</div>
      <div class="overlay-label overlay-select">ADD</div>

      <div class="role-label">PUNJABI</div>
      <h1>Butter Naan <span class="price">₹40</span></h1>
      <div class="primary-question">Swipe · Tilt · Voice</div>

      <div class="nav-hint">
        <span>← SKIP</span>
        <span>↓ ADD</span>
        <span>BROWSE →</span>
      </div>
    </div>
  </div>
</section>
`;
</script>

</body>
</html>
